<!DOCTYPE html>
<html lang="en"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
    <title>Deploying an Application</title>
    <meta name="description" content="Deploying an Application" />
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" type="text/css" media="screen,projection" href="/assets/materialize.css" />
    <link rel="canonical" href="/tutorials/base_tutorial/deploy.html" />
    <link rel="alternate" type="application/rss+xml" title="modularcode" href="/feed.xml" />
    
</head>
<!-- Is it a content or a nested page -->
	
	
	
	<style>a {color: #757575;fill:#424242;}a:hover {color: #03a9f4;fill:#03a9f4;}h1,h2,h3,h4,h5,h6{color: #424242;}body{color: #212121; display: flex; min-height: 100vh; flex-direction: column;}nav ul a{color: #424242;}nav .brand-logo{color: #424242}.justify-align{text-align:justify;}nav a{color: #424242;}main{flex: 1 0 auto;}.side-nav li>a{color: #424242;}.side-nav .collapsible-header, .side-nav.fixed .collapsible-header{padding-left:32px;}.side-nav .collapsible-body li a, .side-nav.fixed .collapsible-body li a{padding-left:47px;}h1,h2,h3,h4,h5,h6{-webkit-font-smoothing: antialiased;}.icon-block{padding: 0 15px;}.icon-block .material-icons{font-size: inherit;}.row{margin-bottom:0px;}.logo img{padding-top:3px;}.page-footer{background-color:#03a9f4; padding-top: 0px;}.nav-button{width:20px; height:20px; viewBox:0 0 20 20;}footer h5{color:#FFFFFF;}hr{background-color:#bdbdbd;}.divider{background-color:#bdbdbd;}img{max-width: 100%; height: auto;}.page-footer .footer-copyright{background-color:#03a9f4;}/* Code Highlighting */.highlight .c { color: #bdbdbd; font-style: italic } /* Comment */.highlight .k { color: #212121; font-weight: bold } /* Keyword */.highlight .cm { color: #bdbdbd; font-style: italic } /* Comment.Multiline */.highlight .c1 { color: #bdbdbd; font-style: italic } /* Comment.Single */.highlight .kc { color: #424242; font-weight: bold } /* Keyword.Constant */.highlight .kd { color: #212121; font-weight: bold } /* Keyword.Declaration */.highlight .kn { color: #424242; font-weight: bold } /* Keyword.Namespace */.highlight .kp { color: #424242; font-weight: bold } /* Keyword.Pseudo */.highlight .kr { color: #424242; font-weight: bold } /* Keyword.Reserved */.highlight .kt { color: #424242; font-weight: bold } /* Keyword.Type */.highlight .s { color: #757575 } /* Literal.String */.highlight .n { color: #03a9f4 } /* Name */.highlight .na { color: #03a9f4 } /* Name.Attribute */.highlight .nc { color: #03a9f4} /* Name.Class */.highlight .nd { color: #757575 } /* Name.Decorator */.highlight .nf { color: #03a9f4 } /* Name.Function */.highlight .mf { color: #757575 } /* Literal.Number.Float */.highlight .mh { color: #757575 } /* Literal.Number.Hex */.highlight .mi { color: #757575 } /* Literal.Number.Integer */.highlight .mo { color: #757575 } /* Literal.Number.Oct */.highlight .sb { color: #757575 } /* Literal.String.Backtick */.highlight .sc { color: #757575 } /* Literal.String.Char */.highlight .sd { color: #757575 } /* Literal.String.Doc */.highlight .s2 { color: #757575 } /* Literal.String.Double */.highlight .se { color: #757575 } /* Literal.String.Escape */.highlight .sh { color: #757575 } /* Literal.String.Heredoc */.highlight .si { color:#757575 } /* Literal.String.Interpol */.highlight .sx { color: #757575 } /* Literal.String.Other */.highlight .sr { color: #757575 } /* Literal.String.Regex */.highlight .s1 { color: #757575 } /* Literal.String.Single */.highlight .ss { color: #757575 } /* Literal.String.Symbol */.highlight {tab-size: 4;}div.highlighter-rouge{padding:5px;background:#f5f5f5;border:1px solid #bdbdbd;border-radius:4px;}div.highlight pre.highlight{margin:0px;}code.highlighter-rouge{padding:0px 3px;background:#f5f5f5;border:1px solid #bdbdbd;border-radius:3px;}/* Make headers a little bit smaller */h1{font-size:2.8rem;}h2{font-size:2.5rem;}h3{font-size:2.1rem;}h4{font-size:1.8rem;}h5{font-size:1.3rem;}h6{font-size:1rem;}/* Plain text */p{text-align:justify;}/* Blockquotes */blockquote{border-left:3px solid #03a9f4;font-style:italic;font-weight:300;}/* Tables */table.striped>tbody>tr:nth-child(odd){background-color:#f5f5f5;}/* Cards */.card .card-image .card-title{color: #212121; font-weight: 600; padding-bottom: 0px; padding-left:12px; padding-right: 12px;}.card-content{color: #757575;}.card .card-content{padding-top: 5px;}.card .card-action a:not(.btn):not(.btn-large):not(.btn-large):not(.btn-floating){color: #424242;}.card .card-action a:not(.btn):not(.btn-large):not(.btn-large):not(.btn-floating):hover{color: #03a9f4;}.card.small{height: 225px;}.card-placeholder-image{color:#bdbdbd;}.card-image img{opacity: 0.3;}.card-image h2{opacity: 0.3;}.card .card-image{min-height:60%;}/* Breadcrumbs */nav{background-color: #FFFFFF;}a.breadcrumb{color: #757575;}.breadcrumb:last-child{color:#03a9f4;}.breadcrumb:before{color:#757575;font-size:15px;}nav.breadcrumbs{box-shadow:none;margin-top:4px;}ul.collapsible{list-style-type: none;padding:0px;}.collapsible-header{border-bottom:0px;}.collapsible-body{padding:5px;}/* Table of Contents */.second-level{padding:0px;}.table-of-contents .second-level a{padding-left:40px;font-size:13px;}.table-of-contents a{color:#757575;}.table-of-contents a:hover{border-left:1px solid #03a9f4;color:#03a9f4;}.table-of-contents a.active{border-left:2px solid #03a9f4;color:#757575;}.toc-wrapper li{padding:1px;}/* Navigation Arrows */.prev-nav{top: 50%;left: 3%;position:fixed;}.next-nav{top: 50%;right: 3%;position:fixed;}</style>

  <body>
	<!-- Navigation Header -->
	<nav class="white lighten-1" role="navigation">
	<div class="nav-wrapper container">
		<a id="logo-container" class="brand-logo logo show-on-medium-and-up hide-on-small-only" href="/"><img src="/logo.png"></a>
		<a id="logo-container" class="brand-logo logo show-on-small hide-on-med-and-up" href="/"><img src="/logo-small.png"></a>
	  
	  
	
	  <ul class="right hide-on-med-and-down">
		
			
			<li><a href="/tutorials.html">Tutorials</a></li>
		
			
			<li><a href="/modules.html">Modules</a></li>
		
			
			<li><a href="/projects.html">Projects</a></li>
		
			
			<li><a href="/contribute.html">Contribute</a></li>
		
		
			<li>
				<a title="modularcode.site on GitHub" href="https://github.com/Sandared/modularcode.site"> 
					<svg class="nav-button" xmlns="http://www.w3.org/2000/svg">
						<title>github</title>
						<path d="M10 0C4.477 0 0 4.477 0 10c0 4.418 2.865 8.166 6.839 9.489.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.342-3.369-1.342-.454-1.155-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.268 2.75 1.026A9.578 9.578 0 0 1 10 4.836c.85.004 1.705.114 2.504.337 1.909-1.294 2.747-1.026 2.747-1.026.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.579.688.481C17.137 18.163 20 14.418 20 10c0-5.523-4.478-10-10-10" fill-rule="evenodd">
						</path>
					</svg>					
				</a>
			</li>
		
		
		
			<li>
				<a title="SanfteSchorle on Twitter" href="https://twitter.com/SanfteSchorle"> 
					<svg class="nav-button" xmlns="http://www.w3.org/2000/svg">
						<title>twitter</title>
						<path d="M15.115 7.788c.005.11.009.223.009.335 0 3.43-2.611 7.384-7.386 7.384-1.467 0-2.831-.43-3.98-1.166a5.244 5.244 0 0 0 3.843-1.075 2.596 2.596 0 0 1-2.424-1.801 2.645 2.645 0 0 0 1.171-.045 2.597 2.597 0 0 1-2.082-2.544v-.033c.351.194.752.311 1.177.324a2.59 2.59 0 0 1-1.154-2.16c0-.475.127-.92.35-1.305A7.37 7.37 0 0 0 9.99 8.414a2.596 2.596 0 0 1 4.423-2.367 5.174 5.174 0 0 0 1.648-.63 2.602 2.602 0 0 1-1.142 1.436 5.17 5.17 0 0 0 1.491-.41 5.233 5.233 0 0 1-1.295 1.345M10 0C4.486 0 0 4.486 0 10s4.486 10 10 10 10-4.486 10-10S15.514 0 10 0" fill-rule="evenodd">
						</path>
					</svg>			
				</a>
			</li>
		
	  </ul>

	  <ul id="nav-mobile" class="side-nav">
		<li><a href="">Home</a></li>
		<li class="divider"></li>
		
			
			<li><a href="/tutorials.html">Tutorials</a></li>
			<li class="divider"></li>
		
			
			<li><a href="/modules.html">Modules</a></li>
			<li class="divider"></li>
		
			
			<li><a href="/projects.html">Projects</a></li>
			<li class="divider"></li>
		
			
			<li><a href="/contribute.html">Contribute</a></li>
			<li class="divider"></li>
		
		
			<li>
				<a title="modularcode.site on GitHub" href="https://github.com/Sandared/modularcode.site"> 
					<svg class="nav-button" xmlns="http://www.w3.org/2000/svg">
						<title>github</title>
						<path d="M10 0C4.477 0 0 4.477 0 10c0 4.418 2.865 8.166 6.839 9.489.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.342-3.369-1.342-.454-1.155-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.268 2.75 1.026A9.578 9.578 0 0 1 10 4.836c.85.004 1.705.114 2.504.337 1.909-1.294 2.747-1.026 2.747-1.026.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.579.688.481C17.137 18.163 20 14.418 20 10c0-5.523-4.478-10-10-10" fill-rule="evenodd">
						</path>
					</svg>					
				</a>
			</li>
			<li class="divider"></li>
		
		
		
			<li>
				<a title="SanfteSchorle on Twitter" href="https://twitter.com/SanfteSchorle"> 
					<svg class="nav-button" xmlns="http://www.w3.org/2000/svg">
						<title>twitter</title>
						<path d="M15.115 7.788c.005.11.009.223.009.335 0 3.43-2.611 7.384-7.386 7.384-1.467 0-2.831-.43-3.98-1.166a5.244 5.244 0 0 0 3.843-1.075 2.596 2.596 0 0 1-2.424-1.801 2.645 2.645 0 0 0 1.171-.045 2.597 2.597 0 0 1-2.082-2.544v-.033c.351.194.752.311 1.177.324a2.59 2.59 0 0 1-1.154-2.16c0-.475.127-.92.35-1.305A7.37 7.37 0 0 0 9.99 8.414a2.596 2.596 0 0 1 4.423-2.367 5.174 5.174 0 0 0 1.648-.63 2.602 2.602 0 0 1-1.142 1.436 5.17 5.17 0 0 0 1.491-.41 5.233 5.233 0 0 1-1.295 1.345M10 0C4.486 0 0 4.486 0 10s4.486 10 10 10 10-4.486 10-10S15.514 0 10 0" fill-rule="evenodd">
						</path>
					</svg>			
				</a>
			</li>
			<li class="divider"></li>
		
	  </ul>        

	  <a data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
	</div>
</nav>
	
	
	
  <main>	
  <div class="container">
		<div class="row">	
		
			<div id="text-content" class="section col s12 l10">
				


<nav class="breadcrumbs">
	<div class="nav-wrapper">
	
	
		
	
		
			
			
			
			
			
							
				
				
							
				
				
							
				
				
			
				
					
					<a href="/tutorials.html" class="breadcrumb">Tutorials</a>
				
			
		
	
		
			
			
			
			
			
							
				
				
							
				
				
							
				
				
					
				
				<a href="/tutorials/base_tutorial.html" class="breadcrumb">Base Tutorial</a>
				
			
		
	
		
			
			
			
			
			
							
				
				
							
				
				
							
				
				
					
				
				<a href="/tutorials/base_tutorial/deploy.html" class="breadcrumb">Deploying an Application</a>
				
			
		
	
	</div>
</nav>

				<h1 id="deploying-an-application">Deploying an Application</h1>

<h2 id="what-you-will-learn-in-this-section">What You Will Learn in This Section</h2>

<p>All this work to get a working provider! However, we’ve only run it in a evaluation and test mode. In this section we will take a look how we can use this provider bundle in an application we can deploy.</p>

<p>There are a myriad of deploy formats in Java (and OSGi!): WAR files, Karaf KARs, EAR files, OSGi Subsystems, OSGi Deployment Admin, etc. Bndtools can support all of those through <em>plugins</em> but always natively supports the most humblest of all deployment formats: an executable JAR. An executable JAR has no external dependencies, everything it needs outside the JDK is embedded.</p>

<p>The beauty of an executable JAR is that it can be started anywhere there is a java virtual machine:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>java <span class="nt">-jar</span> executable.jar
</code></pre></div></div>

<h2 id="creating-an-application">Creating an Application</h2>

<p>The first thing we need to do is create a <code class="highlighter-rouge">bndrun</code> file. Don’t confuse a <code class="highlighter-rouge">bndrun</code> file with the <code class="highlighter-rouge">Run</code> tab of the <code class="highlighter-rouge">bnd.bnd</code> file. These are two distinct files. A <code class="highlighter-rouge">bndrun</code> file allows us to specify a runtime for our framework.</p>

<p>So do a <code class="highlighter-rouge">New/Bndtools/Bnd OSGi Project</code> and use <code class="highlighter-rouge">com.acme.prime.eval.application</code> as the project name. The <code class="highlighter-rouge">.application</code> extension for this project creates an <em>application</em> project. Don’t forget to use the OSGi enRoute template!</p>

<p>An application project should contain no code (or very little) but acts as a spear point. It contains the requirements that will drive the final application.</p>

<h2 id="the-sole-content">The Sole Content</h2>

<p>By default, an application only contains a Gogo shell command, in this case in the <code class="highlighter-rouge">EvalApplication</code> class. This one is very similar, and then not really, to the <code class="highlighter-rouge">EvalImpl</code> class. In the <code class="highlighter-rouge">EvalImpl</code> class we just made the existing API call, <code class="highlighter-rouge">eval</code>, available as a Gogo command. In this application project we need to get the service and call the method on that service. Getting a service is made very easy with DS, just add a setter method and add the <code class="highlighter-rouge">@Reference</code> annotation. So lets replace the code for  the <code class="highlighter-rouge">EvalApplication</code> code with:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span><span class="o">(</span>
	<span class="n">service</span><span class="o">=</span><span class="n">EvalApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> 
	<span class="n">property</span> <span class="o">=</span> <span class="o">{</span> 
		<span class="n">Debug</span><span class="o">.</span><span class="na">COMMAND_SCOPE</span> <span class="o">+</span> <span class="s">"=eval"</span><span class="o">,</span>
		<span class="n">Debug</span><span class="o">.</span><span class="na">COMMAND_FUNCTION</span> <span class="o">+</span> <span class="s">"=eval"</span> 
	<span class="o">},</span>
	<span class="n">name</span><span class="o">=</span><span class="s">"com.acme.prime.eval"</span>
<span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EvalApplication</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="n">Eval</span> <span class="n">eval</span><span class="o">;</span>

	<span class="kd">public</span> <span class="kt">double</span> <span class="nf">eval</span><span class="o">(</span><span class="n">String</span> <span class="n">m</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">eval</span><span class="o">.</span><span class="na">eval</span><span class="o">(</span><span class="n">m</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="nd">@Reference</span>
	<span class="kt">void</span> <span class="nf">setEval</span><span class="o">(</span> <span class="n">Eval</span> <span class="n">eval</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">eval</span><span class="o">=</span> <span class="n">eval</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>This code registers a dummy service that now provides the <code class="highlighter-rouge">eval:eval</code> command to Gogo shell (notice the imaginative difference between the <code class="highlighter-rouge">test:eval</code> command we created in the provider.</p>

<p>Just like the test project, we need to add a dependency on the API project. As usual, go to the <code class="highlighter-rouge">Build</code> tab of the <code class="highlighter-rouge">bnd.bnd</code> file and add the <code class="highlighter-rouge">com.acme.prime.eval.api</code> project.</p>

<h2 id="defining-the-application">Defining the Application</h2>

<p>We will define the run time requirements in a special file, a <code class="highlighter-rouge">bndrun</code> file. Such a file is already placed in the application project: <code class="highlighter-rouge">com.acme.prime.eval.bndrun</code>. Such a <code class="highlighter-rouge">bndrun</code> file is basically the information we have been working with in the <code class="highlighter-rouge">bnd.bnd</code> <code class="highlighter-rouge">Run</code> tab. If you double click on it, then it should look like:</p>

<p><img src="img/deploy-bndrun-0.png" alt="Application bndrun" /></p>

<p>As you can see, the initial requirement for our Gogo command is already there. Before we try it out, let’s add a shell (<code class="highlighter-rouge">org.apache.felix.gogo.shell</code>) so it is slightly more interactive. That’s it! Hit the <code class="highlighter-rouge">Resolve</code> button and save the <code class="highlighter-rouge">bndrun</code> file.</p>

<p><img src="img/deploy-bndrun-1.png" alt="Application bndrun" /></p>

<p>At the right top of the <code class="highlighter-rouge">bndrun</code>’s <code class="highlighter-rouge">Run</code> tab there are a number of buttons:</p>

<p><img src="img/deploy-bndrun-2.png" alt="Application bndrun" /></p>

<p>If you click the <code class="highlighter-rouge">Debug OSGi</code> button then bnd will launch a framework and run your application.</p>

<p>Since we have a shell, we can try out the command:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>g! <span class="nb">eval</span>:eval pi<span class="k">*</span>13.36901521971921
42.0
</code></pre></div></div>

<p>And it took considerably less time than 7.5 million years!</p>

<h2 id="debugging">Debugging</h2>

<p>Let’s first kill this framework so we can start another framework that is friendlier on the debugging side. Just click on the red button in the Eclipse console.</p>

<p>The application project also includes a <code class="highlighter-rouge">debug.bndrun</code> file. This is also a <code class="highlighter-rouge">bndrun</code> file but it adds debug requirements. So quit the running framework (Go to the console, and click on the red button) and double click the <code class="highlighter-rouge">debug.bndrun</code> file, resolve, and click <code class="highlighter-rouge">Debug OSGi</code>.</p>

<p>The first thing you’ll notice is how the console is filled with red text. This is the trace output of the launcher. If things do not really work as you expected (never happens to us …) then this output, which traces the installation process in fine detail, can help you solve the problems. This behavior is triggered by the -runtrace flag. Click on the <code class="highlighter-rouge">bnd.bnd</code> <code class="highlighter-rouge">Source</code> tab, and change it to false or remove it if you do not want this trace.</p>

<p><img src="img/deploy-debug-0.png" alt="Application bndrun" /></p>

<p>The <code class="highlighter-rouge">debug.bndrun</code> file inherits from the <code class="highlighter-rouge">com.acme.prime.eval.bndrun</code> file, any initial requirement we add to this file is automatically added to the debug run; first principle of Don’t Repeat Yourself (DRY). However, the <code class="highlighter-rouge">debug.bndrun</code> adds a set of standard requirements that make it so much easier to debug OSGi applications. It adds Web Console, the Gogo shell, etc. So click on the <code class="highlighter-rouge">Debug OSGi</code> button and then go to <a href="http://localhost:8080/system/console/xray">http://localhost:8080/system/console/xray</a> to inspect your OSGi system. The user id and password were <code class="highlighter-rouge">admin</code>, and … drumroll … <code class="highlighter-rouge">admin</code>.</p>

<p><img src="img/deploy-debug-1.png" alt="Application bndrun" /></p>

<p>XRay and its associated tools were explained in the <a href="450-debug.html">debug section</a>.</p>

<h2 id="exporting">Exporting</h2>

<p>This was fun, ok, at least not bad. But how do we deploy this? How do we get this running on our target environment? Well, we can make this into an application, an executable JAR file.</p>

<p>We start by double clicking the <code class="highlighter-rouge">com.acme.prime.eval.bndrun</code> file and selecting the <code class="highlighter-rouge">Run</code> tab. Remember where we found the <code class="highlighter-rouge">Debug OSGi</code> button, on the right top of the <code class="highlighter-rouge">bndrun</code> <code class="highlighter-rouge">Run</code> tab. A little bit more to the right you find an <code class="highlighter-rouge">Export</code> button.</p>

<p><img src="img/deploy-bndrun-2.png" alt="Application bndrun" /></p>

<p>Clicking the <code class="highlighter-rouge">Export</code> button shows you a dialog that asks you where to store the exeecutable JAR on the file system:</p>

<p><img src="img/deploy-export-1.png" alt="Application bndrun" /></p>

<p>Select the <code class="highlighter-rouge">Executable JAR</code>, and save this on your desktop under the name <code class="highlighter-rouge">com.acme.prime.jar</code>.</p>

<p><img src="img/deploy-export-2.png" alt="Application bndrun" /></p>

<p>This JAR is quite wondrous: it has no external dependencies. To execute it, you should open a shell on your desktop:</p>

<div class="language-shell shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>java <span class="nt">-version</span>
java version <span class="s2">"1.8.0"</span>
Java<span class="o">(</span>TM<span class="o">)</span> SE Runtime Environment <span class="o">(</span>build 1.8.0-xxx<span class="o">)</span>
Java HotSpot<span class="o">(</span>TM<span class="o">)</span> 64-Bit Server VM <span class="o">(</span>build xxxx, mixed mode<span class="o">)</span>

<span class="nv">$ </span>java <span class="nt">-jar</span> com.acme.prime.jar
____________________________
Welcome to Apache Felix Gogo	
g! <span class="nb">eval</span>:eval 3+4+5+6+7+8+9
42.0
</code></pre></div></div>

<p>Isn’t there more in the universe? It does makes you wonder that so many sums have this answer?</p>

<p>Anyway, when you had enough math you can quit this app by hitting control-c.</p>

<h2 id="how-does-it-work">How Does it Work?</h2>

<p><code class="highlighter-rouge">bndrun</code> files define the requirements on a desired runtime. When the <code class="highlighter-rouge">Resolve</code> button is hit, the bnd <em>resolver</em> looks at the initial requirements and will try to find resources in the repositories that together match those requirements and the requirements from the introduced resources. The resulting set of bundles defines a runtime, these bundles are set in the <code class="highlighter-rouge">-runbundles</code> instruction.</p>

<p>A runtime environment can then be executed to verify it, potentially resulting in some modifications. If the result is ok, then the export function of bnd is used.</p>

<p>The bnd export goes through a plugin; this is the same plugin that manages the launching. In this case this is the default <code class="highlighter-rouge">aQute.launch</code> plugin. The plugin takes the runtime environment and creates a JAR that contains all the dependencies, including itself and any properties; creating a JAR that is completely self contained.</p>

		    </div>
			<div class="col hide-on-med-and-down l2">
				<div id="toc-wrapper" class="toc-wrapper pin-top">
				  <ul id="toc" class="section table-of-contents">
					
				  </ul>
				</div>
			</div>
			
			
				
				<div class="col s6 left-align hide-on-large-only show-on-med-and-down"><a href="testing.html"><i class="large material-icons">keyboard_arrow_left</i></a></div>
			
			
				<div class="col s6  right-align hide-on-large-only show-on-med-and-down"><a href="ci.html"><i class="large material-icons">keyboard_arrow_right</i></a></div>
			
			
			
				<div class="prev-nav hide-on-med-and-down"><a href="testing.html"><i class="small material-icons">keyboard_arrow_left</i></a></div>
			
			
				<div class="next-nav hide-on-med-and-down"><a href="ci.html"><i class="small material-icons">keyboard_arrow_right</i></a></div>
			
		
			
    </div> 
	
  </div>
  </main>
	<footer class="page-footer">
    <!--<div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5>Lorem Ipsum</h5>
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
      </div>
    </div>-->
    <div class="footer-copyright">
        <div class="container">
            <div>
				<span style="text-align: left; float: left; width: 30%;">
				Made with <a target="_blank" href="http://materializecss.com">Materialize</a>
				</span>
				<span style="text-align: center; float: left; width: 40%;">
				Copyright © 2018 <a href="https://www.osgi.org/">Thomas Driessen</a>
				</span>
                <span style="text-align: right; float: left; width: 30%;">
				Powered by <a target="_blank" href="http://jekyllrb.com/">Jekyll</a>
                </span>
            </div>
        </div>
    </div>
</footer>      
	<!--  Scripts-->  

<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/materialize.min.js"></script>
<script src="/assets/js/init.js"></script>	
	<script src="/assets/js/content.js"></script>	
  </body>

</html>